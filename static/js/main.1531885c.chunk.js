(this.webpackJsonpkeysigs=this.webpackJsonpkeysigs||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r,c=n(1),s=n.n(c),l=n(4),i=n.n(l),o=(n(10),n(5)),a=n(2),u=(n(11),n(0)),h=function(e){return Math.ceil(Math.random()*e)-1},j=function(e){return e[h(e.length)]},d=["A","B","C","D","E","F","G","C#","F#","Ab","Bb","Cb","Db","Eb","Gb"].sort(),f=["A","B","C","D","E","F","G","A#","C#","D#","F#","G#","Ab","Bb","Eb"].map((function(e){return e.toLowerCase()})).sort(),g=["treble","bass"],b=["Sorry","So close",":(","Ouch","Whoops","Oopsie","Dang","Answer","Bummer","Crap"],m=["Nice!","Cool!","Huzzah!","Pow!","Booyah!","Zing!","Cha-ching!","Dope!","Sick!"],p=["Major","Minor","Both"],O=[],x=function(e){var t=[d,f][e.currentLevel]||d.concat(f),n=j(t.filter((function(e){return-1===O.indexOf(e)}))),r=d.indexOf(n)>-1?"maj":"min";return{clef:j(g),type:r,letter:n,letters:t,previous:e}},v=function(e){return fetch("https://api.giphy.com/v1/gifs/search?api_key=".concat("6RG4B2rBB6eP4QCDrxs7w0uZnflH6n9z","&q=").concat(e,"&limit=20&offset=").concat(h(1e3),"&rating=g&lang=en")).then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return[e.images.fixed_height.url,e.images.fixed_height.height,e.images.original.frames]}))}))},y={success:[],fail:[],ready:[]},C=!1,S=Promise.all([v("success"),v("fail"),v("ready")]);function k(e){var t=e.onClick,n=e.children;return Object(u.jsx)("button",{style:{fontSize:"1.5rem",padding:"1rem"},onClick:t,children:n})}function w(){var e=y,t=e.success,n=e.fail,r=e.ready;return Object(u.jsx)("div",{style:{height:0,width:0,position:"absolute",overflow:"hidden"},children:t.concat(n).concat(r).map((function(e){return Object(u.jsx)("img",{src:e},e)}))})}function L(e){var t=e.level,n=e.levelsCompleted,r=e.onClick,c=void 0===r?function(){}:r;return Object(u.jsx)("div",{className:"LevelStars",children:p.map((function(e,r){var s=t===r,l=r<n,i=l?"green":s?"darkgrey":"lightgrey",o=[l&&"wow",s&&"pulse"].filter((function(e){return e})).join(" "),a=r<=n,h={border:"1px solid #CCC",padding:"0.25rem 0.5rem",borderRadius:"3px",boxShadow:"2px 4px 6px rgba(0,0,0,".concat(s?"0.35":"0.15",")"),opacity:!a&&.25};return Object(u.jsxs)("span",{className:"LevelStar",style:h,onClick:function(){return a&&c(r)},children:[Object(u.jsxs)("span",{children:["Level ",r+1,":"]})," \xa0",Object(u.jsx)(N,{color:i,animation:o})]},r)}))})}function N(e){var t=e.color,n=e.animation;return Object(u.jsx)("svg",{className:"Star ".concat(n),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{style:{fill:t},d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"})})}function T(e){var t=e.letter,n=e.children,r=t.split(""),c=Object(a.a)(r,2),s=c[0],l=c[1];return Object(u.jsxs)("span",{children:[n,s,Object(u.jsx)("span",{className:"KeyAugment",children:l||""})]})}function B(e){var t=e.letters,n=e.onClick;return Object(u.jsx)("div",{className:"Answers",children:t.map((function(e){return Object(u.jsx)("button",{onClick:n,children:Object(u.jsx)(T,{letter:e})},e)}))})}function D(e){var t=e.color,n=e.height,r=e.children;return Object(u.jsx)("div",{className:"Result",style:{backgroundColor:t||"lightgrey"},children:Object(u.jsx)("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",transition:"0.5s",overflow:"hidden",height:n||"3rem"},children:r})})}function F(e){var t=e.score,n=e.remainingCount;return Object(u.jsxs)("h2",{style:{fontWeight:300},children:[Object(u.jsxs)("span",{style:{fontWeight:"900",fontSize:"smaller"},children:["Score: ",t||0]})," (",n," left)"]})}function M(e){var t=e.letter,n=e.clef,r=e.type,c=t.split(""),s=Object(a.a)(c,2),l=s[0]+(s[1]||"").replace("#","s").replace("b","f"),i="".concat(n,"-").concat(l.toLowerCase(),"-").concat(r);return Object(u.jsx)("div",{className:"KeySigImageContainer",children:Object(u.jsx)("div",{className:"KeySigImage ".concat(i)})})}function z(){return Object(u.jsx)("a",{href:"https://docs.google.com/document/d/1e8bCDXDnz1Y-qnNY2vTknYMVThinHRO2Ur9eF1V1DZk/edit?usp=sharing",target:"_blank",rel:"noreferrer",style:{color:"white"},children:"Click here for prize!"})}function A(){return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(u.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@300;900&display=swap",rel:"stylesheet"}),Object(u.jsx)("style",{children:"* { font-family: Roboto }"})]})}S.then((function(e){var t=Object(a.a)(e,3),n=t[0],r=t[1],c=t[2];y={success:n,fail:r,ready:c}}));var I=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],s=t[1],l=Object(c.useState)({title:"Loading..."}),i=Object(a.a)(l,2),h=i[0],g=i[1],p=Object(c.useState)(0),v=Object(a.a)(p,2),N=v[0],I=v[1],R=Object(c.useState)(JSON.parse(localStorage.getItem("stats"))),P=Object(a.a)(R,2),E=P[0],G=P[1],J=E||{},H=J.currentLevel,W=void 0===H?0:H,_=J.levelsCompleted,K=void 0===_?0:_,Y=J.highScore,Z=void 0===Y?0:Y;C||S.then((function(){setTimeout((function(){C=!0,g({title:"Ready?",splash:j(y.ready)})}),500)}));var q=n||{},V=q.clef,Q=q.type,U=q.letter,X=q.letters,$=void 0===X?[]:X,ee=q.previous,te=void 0===ee?{}:ee,ne=$.length-O.length;Object(c.useEffect)((function(){if(N>0)return r=setTimeout((function(){I(N-1),g({title:Object(u.jsxs)("span",{style:{fontSize:"smaller"},children:[10*(N-1)+te.streak,"x Point Multiplier!"]}),color:"green"})}),2e3),function(){return clearTimeout(r)}}));var re=h.splash||[],ce=Object(a.a)(re,2),se=ce[0],le=ce[1],ie="maj"===Q?d:f;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(A,{}),Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsxs)(D,{color:h.color,height:le&&"calc(".concat(le,"px + 3.5rem)"),children:[h.title,se&&Object(u.jsx)("img",{src:se,style:{maxWidth:"100%",marginTop:"0.5rem"}})]}),Object(u.jsxs)("h5",{style:{color:"grey",margin:"0.5rem 0 0"},children:["High Score: ",Z]}),Object(u.jsx)(L,{level:W,levelsCompleted:K,onClick:function(e){W=e,s(null),I(0),clearTimeout(r),r=null;var t={currentLevel:W,levelsCompleted:K,highScore:Z};localStorage.setItem("stats",JSON.stringify(t)),G(t),g({title:"Ready?",splash:j(y.ready)})}}),U&&Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)(F,{score:te.score,remainingCount:ne}),Object(u.jsx)(M,{letter:U,clef:V,type:Q}),!h.splash&&Object(u.jsx)(B,{letters:ie,onClick:function(e){var t=e.target.textContent===U,n=te.count+1,c=t?(te.streak||0)+1:0,l=t?0:(te.losses||0)+1,i=100*(c+10*N)+(te.score||0);if(t&&O.push(U),O.length===$.length){O=[],K<3&&W===K&&(W+=1,K+=1),Z=Math.max(Z,i);var a={currentLevel:W,levelsCompleted:K,highScore:Z};localStorage.setItem("stats",JSON.stringify(a)),G(a),g({title:3===K?Object(u.jsx)(z,{}):j(m),splash:j(y.success),color:"green"}),s(null),I(0),clearTimeout(r),r=null}else if(t){var h="green";c>1?(clearTimeout(r),r=null,I(N+2),g({title:Object(u.jsxs)("span",{style:{fontSize:"smaller"},children:[c+10*(N+2),"x Point Multiplier!"]}),color:h})):g({title:j(m),color:h}),s(x({count:n,streak:c,losses:l,win:t,score:i,lastLetter:U,currentLevel:W}))}else{I(0),clearTimeout(r),r=null;var d={title:Object(u.jsxs)(T,{letter:U,children:[j(b),"..."]}),color:"red"},f=j(y.fail);g(Object(o.a)({splash:f},d));var p=parseInt(f[2]),v=Math.max(p*(1e3/15)+1e3,5e3);setTimeout((function(){g(d),s(x({count:n,streak:c,losses:l,win:t,score:i,lastLetter:U,currentLevel:W}))}),v)}}})]}),null==n&&Object(u.jsx)(k,{onClick:function(){g({title:"GO!"}),I(0),clearTimeout(r),r=null,s(x({count:0,currentLevel:W}))},children:"Play!"}),null==n&&Object(u.jsx)(k,{onClick:function(){localStorage.removeItem("stats"),G(null)},children:"Reset"})]}),C&&Object(u.jsx)(w,{})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),r(e),c(e),s(e),l(e)}))};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),R()}},[[13,1,2]]]);
//# sourceMappingURL=main.1531885c.chunk.js.map