(this.webpackJsonpkeysigs=this.webpackJsonpkeysigs||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r,c=n(1),l=n.n(c),s=n(4),i=n.n(s),o=(n(10),n(5)),a=n(2),u=(n(11),n(0)),h=function(e){return Math.ceil(Math.random()*e)-1},j=function(e){return e[h(e.length)]},d=["A","B","C","D","E","F","G","C#","F#","Ab","Bb","Cb","Db","Eb","Gb"].sort(),g=["A","B","C","D","E","F","G","A#","C#","D#","F#","G#","Ab","Bb","Eb"].map((function(e){return e.toLowerCase()})).sort(),b=["treble","bass"],f=["Sorry","So close",":(","Ouch","Whoops","Oopsie","Dang","Answer","Bummer","Crap"],m=["Nice!","Cool!","Huzzah!","Pow!","Booyah!","Zing!","Cha-ching!","Dope!","Sick!"],p=["Major","Minor","Both"],x=[],O=function(e){var t=[d,g][e.currentLevel]||d.concat(g),n=j(t.filter((function(e){return-1===x.indexOf(e)}))),r=d.indexOf(n)>-1?"maj":"min";return{clef:j(b),type:r,letter:n,letters:t,previous:e}},v=function(e){return fetch("https://api.giphy.com/v1/gifs/search?api_key=".concat("6RG4B2rBB6eP4QCDrxs7w0uZnflH6n9z","&q=").concat(e,"&limit=20&offset=").concat(h(1e3),"&rating=g&lang=en")).then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return[e.images.fixed_height.url,e.images.fixed_height.height,e.images.original.frames]}))}))},y={success:[],fail:[],ready:[]},C=Promise.all([v("success"),v("fail"),v("ready")]);function S(e){var t=e.onClick,n=e.children;return Object(u.jsx)("button",{style:{fontSize:"1.5rem",padding:"1rem",marginTop:"1rem"},onClick:t,children:n})}function k(){var e=y,t=e.success,n=e.fail,r=e.ready;return Object(u.jsx)("div",{style:{height:0,width:0,position:"absolute",overflow:"hidden"},children:t.concat(n).concat(r).map((function(e){return Object(u.jsx)("img",{src:e},e)}))})}function w(e){var t=e.level,n=e.levelsCompleted,r=e.onClick,c=void 0===r?function(){}:r;return Object(u.jsx)("div",{className:"LevelStars",children:p.map((function(e,r){var l=t===r,s=r<n,i=s?"green":l?"darkgrey":"lightgrey",o=[s&&"wow",l&&"pulse"].filter((function(e){return e})).join(" "),a=r<=n,h={border:"1px solid rgb(0, 0, 0, 0.1)",padding:"0.25rem 0.5rem",borderRadius:"3px",boxShadow:"2px 4px 6px rgba(0,0,0,".concat(l?"0.35":"0.15",")"),backgroundColor:"rgba(0,0,0,0.025)",opacity:!a&&.25};return Object(u.jsxs)("span",{className:"LevelStar",style:h,onClick:function(){return a&&c(r)},children:[Object(u.jsxs)("span",{style:{textShadow:"0px 0px 10px rgb(0,0,0,0.15)",fontWeight:"400",color:"white"},children:["Level ",r+1,":"]})," \xa0",Object(u.jsx)(L,{color:i,animation:o})]},r)}))})}function L(e){var t=e.color,n=e.animation;return Object(u.jsx)("svg",{className:"Star ".concat(n),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{style:{fill:t},d:["M12",".587l3.668","7.568","8.332","1.151-6.064","5.828","1.48","8.279-7.416-3.967-7.417","3.967","1.481-8.279-6.064-5.828","8.332-1.151z"].join(" ")})})}function T(e){var t=e.letter,n=e.children,r=t.split(""),c=Object(a.a)(r,2),l=c[0],s=c[1];return Object(u.jsxs)("span",{children:[n,l,Object(u.jsx)("span",{className:"KeyAugment",children:s||""})]})}function N(e){var t=e.letters,n=e.onClick;return Object(u.jsx)("div",{className:"Answers",children:t.map((function(e){return Object(u.jsx)("button",{onClick:n,children:Object(u.jsx)(T,{letter:e})},e)}))})}function B(e){var t=e.color,n=e.height,r=e.children;return Object(u.jsx)("div",{className:"Result",style:{backgroundColor:t||"lightgrey"},children:Object(u.jsx)("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",transition:"0.5s",overflow:"hidden",height:n||"3rem"},children:r})})}function D(e){var t=e.score,n=e.remainingCount;return Object(u.jsxs)("h2",{style:{fontWeight:300,fontSize:"1.25rem",margin:"1rem"},children:["Score: ",t||0," (",n," left)"]})}function z(e){var t=e.letter,n=e.clef,r=e.type,c=t.split(""),l=Object(a.a)(c,2),s=l[0]+(l[1]||"").replace("#","s").replace("b","f"),i="".concat(n,"-").concat(s.toLowerCase(),"-").concat(r);return Object(u.jsx)("div",{className:"KeySigImageContainer",children:Object(u.jsx)("div",{className:"KeySigImage ".concat(i)})})}function A(){return Object(u.jsx)("a",{href:"https://docs.google.com/document/d/1e8bCDXDnz1Y-qnNY2vTknYMVThinHRO2Ur9eF1V1DZk/edit?usp=sharing",target:"_blank",rel:"noreferrer",style:{color:"white"},children:"Click here for prize!"})}function F(){return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(u.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@300;500;900&display=swap",rel:"stylesheet"}),Object(u.jsx)("style",{children:"* { font-family: Roboto }"})]})}C.then((function(e){var t=Object(a.a)(e,3),n=t[0],r=t[1],c=t[2];y={success:n,fail:r,ready:c}}));var I=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],l=t[1],s=Object(c.useState)({title:"Loading..."}),i=Object(a.a)(s,2),h=i[0],b=i[1],p=Object(c.useState)(0),v=Object(a.a)(p,2),L=v[0],I=v[1],M=Object(c.useState)(JSON.parse(localStorage.getItem("stats"))),R=Object(a.a)(M,2),E=R[0],G=R[1],P=Object(c.useState)(!1),J=Object(a.a)(P,2),H=J[0],W=J[1],_=E||{},K=_.currentLevel,Y=void 0===K?0:K,Z=_.levelsCompleted,q=void 0===Z?0:Z,V=_.highScore,Q=void 0===V?0:V;H||C.then((function(){setTimeout((function(){W(!0),b({title:"Ready?",splash:j(y.ready)})}),500)}));var U=n||{},X=U.clef,$=U.type,ee=U.letter,te=U.letters,ne=void 0===te?[]:te,re=U.previous,ce=void 0===re?{}:re,le=ne.length-x.length;Object(c.useEffect)((function(){if(L>0)return r=setTimeout((function(){I(L-1),b({title:Object(u.jsxs)("span",{style:{fontSize:"smaller"},children:[10*(L-1)+ce.streak,"x Multiplier!"]}),color:"green"})}),1e3),function(){return clearTimeout(r)}}));var se=h.splash||[],ie=Object(a.a)(se,2),oe=ie[0],ae=ie[1],ue="maj"===$?d:g;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(F,{}),Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsxs)("div",{style:{background:h.color||"lightgrey",transition:"0.5s",zIndex:1,width:"100%"},children:[Object(u.jsx)(w,{level:Y,levelsCompleted:q,onClick:function(e){Y=e,l(null),I(0),clearTimeout(r),r=null;var t={currentLevel:Y,levelsCompleted:q,highScore:Q};localStorage.setItem("stats",JSON.stringify(t)),G(t),b({title:"Ready?",splash:j(y.ready)})}}),Object(u.jsxs)("h4",{style:{color:"white",margin:"0 0 0.5rem",textShadow:"0 0 5px rgba(0,0,0,0.25)"},children:["High Score: ",Q]})]}),Object(u.jsxs)(B,{color:h.color,height:ae&&"calc(".concat(ae,"px + 3.5rem)"),children:[h.title,oe&&Object(u.jsx)("img",{src:oe,style:{maxWidth:"100%",marginTop:"0.5rem"}})]}),ee&&Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)(z,{letter:ee,clef:X,type:$}),Object(u.jsx)(D,{score:ce.score,remainingCount:le}),!h.splash&&Object(u.jsx)(N,{letters:ue,onClick:function(e){var t=e.target.textContent===ee,n=ce.count+1,c=t?(ce.streak||0)+1:0,s=t?0:(ce.losses||0)+1,i=100*(c+10*L)+(ce.score||0);if(t&&x.push(ee),x.length===ne.length){x=[],q<3&&Y===q&&(Y+=1,q+=1),Q=Math.max(Q,i);var a={currentLevel:Y,levelsCompleted:q,highScore:Q};localStorage.setItem("stats",JSON.stringify(a)),G(a),b({title:3===q?Object(u.jsx)(A,{}):j(m),splash:j(y.success),color:"green"}),l(null),I(0),clearTimeout(r),r=null}else if(t){var h="green";c>1?(clearTimeout(r),r=null,I(L+2),b({title:Object(u.jsxs)("span",{style:{fontSize:"smaller"},children:[c+10*(L+2),"x Multiplier!"]}),color:h})):b({title:j(m),color:h}),l(O({count:n,streak:c,losses:s,win:t,score:i,lastLetter:ee,currentLevel:Y}))}else{I(0),clearTimeout(r),r=null;var d={title:Object(u.jsxs)(T,{letter:ee,children:[j(f),"..."]}),color:"red"},g=j(y.fail);b(Object(o.a)({splash:g},d));var p=parseInt(g[2]),v=Math.max(p*(1e3/15)+1e3,5e3);setTimeout((function(){b(d),l(O({count:n,streak:c,losses:s,win:t,score:i,lastLetter:ee,currentLevel:Y}))}),v)}}})]}),null==n&&Object(u.jsx)(S,{onClick:function(){b({title:"GO!"}),I(0),clearTimeout(r),r=null,l(O({count:0,currentLevel:Y}))},children:"Play!"}),null==n&&Object(u.jsx)("button",{style:{marginTop:"2rem"},onClick:function(){localStorage.removeItem("stats"),G(null),l(null),I(0),clearTimeout(r),r=null,b({title:"Ready?",splash:j(y.ready)})},children:"Reset All"})]}),H&&Object(u.jsx)(k,{})]})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,l=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),l(e),s(e)}))};i.a.render(Object(u.jsx)(l.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("root")),M()}},[[13,1,2]]]);
//# sourceMappingURL=main.7bb0ae08.chunk.js.map