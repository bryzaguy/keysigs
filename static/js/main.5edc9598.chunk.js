(this.webpackJsonpkeysigs=this.webpackJsonpkeysigs||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r,c=n(1),s=n.n(c),i=n(4),l=n.n(i),o=(n(10),n(5)),a=n(2),u=(n(11),n(0)),h=function(e){return Math.ceil(Math.random()*e)-1},j=function(e){return e[h(e.length)]},d=["A","B","C","D","E","F","G","C#","F#","Ab","Bb","Cb","Db","Eb","Gb"].sort(),f=["A","B","C","D","E","F","G","A#","C#","D#","F#","G#","Ab","Bb","Eb"].map((function(e){return e.toLowerCase()})).sort(),g=["treble","bass"],b=["Sorry","So close",":(","Ouch","Whoops","Oopsie","Dang","Answer","Bummer","Crap"],m=["Nice!","Cool!","Huzzah!","Pow!","Booyah!","Zing!","Cha-ching!","Dope!","Sick!"],p=["Major","Minor","Both"],x=JSON.parse(localStorage.getItem("stats"))||{},O=x.currentLevel,v=void 0===O?0:O,y=x.levelsCompleted,C=void 0===y?0:y,S=x.highScore,k=void 0===S?0:S,w=[],N=function(e){var t=[d,f][v]||d.concat(f),n=j(t.filter((function(e){return-1===w.indexOf(e)}))),r=d.indexOf(n)>-1?"maj":"min";return{clef:j(g),type:r,letter:n,letters:t,previous:e}},T=function(e){return fetch("https://api.giphy.com/v1/gifs/search?api_key=".concat("6RG4B2rBB6eP4QCDrxs7w0uZnflH6n9z","&q=").concat(e,"&limit=20&offset=").concat(h(1e3),"&rating=g&lang=en")).then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return[e.images.fixed_height.url,e.images.fixed_height.height,e.images.original.frames]}))}))},B={success:[],fail:[],ready:[]},L=!1,D=Promise.all([T("success"),T("fail"),T("ready")]);function F(e){var t=e.onClick;return Object(u.jsx)("button",{style:{fontSize:"1.5rem",padding:"1rem"},onClick:t,children:"Play!"})}function M(){var e=B,t=e.success,n=e.fail,r=e.ready;return Object(u.jsx)("div",{style:{height:0,width:0,position:"absolute",overflow:"hidden"},children:t.concat(n).concat(r).map((function(e){return Object(u.jsx)("img",{src:e},e)}))})}function z(e){var t=e.level,n=e.onClick,r=void 0===n?function(){}:n;return Object(u.jsx)("div",{className:"LevelStars",children:p.map((function(e,n){var c=t===n,s=n<C,i=s?"green":c?"darkgrey":"lightgrey",l=[s&&"wow",c&&"pulse"].filter((function(e){return e})).join(" "),o=n<=C,a={border:"1px solid #CCC",padding:"0.25rem 0.5rem",borderRadius:"3px",boxShadow:"2px 4px 6px rgba(0,0,0,".concat(c?"0.35":"0.15",")"),opacity:!o&&.25};return Object(u.jsxs)("span",{className:"LevelStar",style:a,onClick:function(){return o&&r(n)},children:[Object(u.jsxs)("span",{children:["Level ",n+1,":"]})," \xa0",Object(u.jsx)(A,{color:i,animation:l})]},n)}))})}function A(e){var t=e.color,n=e.animation;return Object(u.jsx)("svg",{className:"Star ".concat(n),xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{style:{fill:t},d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"})})}function I(e){var t=e.letter,n=e.children,r=t.split(""),c=Object(a.a)(r,2),s=c[0],i=c[1];return Object(u.jsxs)("span",{children:[n,s,Object(u.jsx)("span",{className:"KeyAugment",children:i||""})]})}function P(e){var t=e.letters,n=e.onClick;return Object(u.jsx)("div",{className:"Answers",children:t.map((function(e){return Object(u.jsx)("button",{onClick:n,children:Object(u.jsx)(I,{letter:e})},e)}))})}function R(e){var t=e.color,n=e.height,r=e.children;return Object(u.jsx)("div",{className:"Result",style:{backgroundColor:t||"lightgrey"},children:Object(u.jsx)("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",transition:"0.5s",overflow:"hidden",height:n||"3rem"},children:r})})}function E(e){var t=e.score,n=e.remainingCount;return Object(u.jsxs)("h2",{style:{fontWeight:300},children:[Object(u.jsxs)("span",{style:{fontWeight:"900",fontSize:"smaller"},children:["Score: ",t||0]})," (",n," left)"]})}function G(e){var t=e.letter,n=e.clef,r=e.type,c=t.split(""),s=Object(a.a)(c,2),i=s[0]+(s[1]||"").replace("#","s").replace("b","f"),l="".concat(n,"-").concat(i.toLowerCase(),"-").concat(r);return Object(u.jsx)("div",{className:"KeySigImageContainer",children:Object(u.jsx)("div",{className:"KeySigImage ".concat(l)})})}function J(){return Object(u.jsx)("a",{href:"https://docs.google.com/document/d/1e8bCDXDnz1Y-qnNY2vTknYMVThinHRO2Ur9eF1V1DZk/edit?usp=sharing",target:"_blank",rel:"noreferrer",style:{color:"white"},children:"Click here for prize!"})}function H(){return Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(u.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@300;900&display=swap",rel:"stylesheet"}),Object(u.jsx)("style",{children:"* { font-family: Roboto }"})]})}D.then((function(e){var t=Object(a.a)(e,3),n=t[0],r=t[1],c=t[2];B={success:n,fail:r,ready:c}}));var W=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)({title:"Loading..."}),l=Object(a.a)(i,2),h=l[0],g=l[1],p=Object(c.useState)(0),x=Object(a.a)(p,2),O=x[0],y=x[1];L||D.then((function(){setTimeout((function(){L=!0,g({title:"Ready?",splash:j(B.ready)})}),500)}));var S=n||{},T=S.clef,A=S.type,W=S.letter,_=S.letters,K=void 0===_?[]:_,Y=S.previous,Z=void 0===Y?{}:Y,q=K.length-w.length;Object(c.useEffect)((function(){if(O>0)return r=setTimeout((function(){y(O-1),g({title:Object(u.jsxs)("span",{style:{fontSize:"smaller"},children:[10*(O-1)+Z.streak,"x Point Multiplier!"]}),color:"green"})}),2e3),function(){return clearTimeout(r)}}));var V=h.splash||[],Q=Object(a.a)(V,2),U=Q[0],X=Q[1],$="maj"===A?d:f;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(H,{}),Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsxs)(R,{color:h.color,height:X&&"calc(".concat(X,"px + 3.5rem)"),children:[h.title,U&&Object(u.jsx)("img",{src:U,style:{maxWidth:"100%",marginTop:"0.5rem"}})]}),Object(u.jsxs)("h5",{style:{color:"grey",margin:"0.5rem 0 0"},children:["High Score: ",k]}),Object(u.jsx)(z,{level:v,onClick:function(e){v=e,s(null),y(0),clearTimeout(r),r=null,localStorage.setItem("stats",JSON.stringify({currentLevel:v,levelsCompleted:C,highScore:k})),g({title:"Ready?",splash:j(B.ready)})}}),W&&Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)(E,{score:Z.score,remainingCount:q}),Object(u.jsx)(G,{letter:W,clef:T,type:A}),!h.splash&&Object(u.jsx)(P,{letters:$,onClick:function(e){var t=e.target.textContent===W,n=Z.count+1,c=t?(Z.streak||0)+1:0,i=t?0:(Z.losses||0)+1,l=100*(c+10*O)+(Z.score||0);if(t&&w.push(W),w.length===K.length)w=[],C<3&&v===C&&(v+=1,C+=1),k=Math.max(k,l),localStorage.setItem("stats",JSON.stringify({currentLevel:v,levelsCompleted:C,highScore:k})),g({title:3===C?Object(u.jsx)(J,{}):j(m),splash:j(B.success),color:"green"}),s(null),y(0),clearTimeout(r),r=null;else if(t){var a="green";c>1?(clearTimeout(r),r=null,y(O+2),g({title:Object(u.jsxs)("span",{style:{fontSize:"smaller"},children:[c+10*(O+2),"x Point Multiplier!"]}),color:a})):g({title:j(m),color:a}),s(N({count:n,streak:c,losses:i,win:t,score:l,lastLetter:W}))}else{y(0),clearTimeout(r),r=null;var h={title:Object(u.jsxs)(I,{letter:W,children:[j(b),"..."]}),color:"red"},d=j(B.fail);g(Object(o.a)({splash:d},h));var f=parseInt(d[2]),p=Math.max(f*(1e3/15)+1e3,5e3);setTimeout((function(){g(h),s(N({count:n,streak:c,losses:i,win:t,score:l,lastLetter:W}))}),p)}}})]}),null==n&&Object(u.jsx)(F,{onClick:function(){g({title:"GO!"}),y(0),clearTimeout(r),r=null,s(N({count:0}))}})]}),L&&Object(u.jsx)(M,{})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),s(e),i(e)}))};l.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(W,{})}),document.getElementById("root")),_()}},[[13,1,2]]]);
//# sourceMappingURL=main.5edc9598.chunk.js.map